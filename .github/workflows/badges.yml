name: Update Badges

on:
  workflow_run:
    workflows: ["Test Coverage"]
    types:
      - completed

jobs:
  update-badges:
    runs-on: ubuntu-latest
    if: ${{ github.event.workflow_run.conclusion == 'success' }}
    
    steps:
    - uses: actions/checkout@v4

    - name: Update test status badge
      run: |
        echo "Tests passed on all platforms"
        # Badge will be automatically generated by GitHub Actions status

    - name: Coverage badge comment
      run: |
        echo "Coverage badge can be added using:"
        echo "[![codecov](https://codecov.io/gh/NexoEngine/game-engine/branch/main/graph/badge.svg)](https://codecov.io/gh/NexoEngine/game-engine)"
        echo "Add this to README.md after setting up Codecov"